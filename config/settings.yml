defaults: &defaults
  markets: 
    - base: BTC
      quote: USDT-ERC20
      enable_buyout: false
      binance_symbol: BTCUSDT
    - base: ETH
      quote: BTC
      enable_buyout: false
    - base: BTC
      quote: MCR-ERC20
      binance_symbol: BTCRUB
      binance_quote: RUB
      enable_buyout: false
    - base: ETH
      quote: USDC-ERC20
      enable_buyout: false
      binance_symbol: ETHUSDT
    - base: ETH
      quote: USDT-ERC20
      enable_buyout: false
      binance_symbol: ETHUSDT
    - base: ETH
      quote: MCR-ERC20
      binance_symbol: ETHRUB
      binance_quote: RUB
      enable_buyout: false
    - base: USDT-ERC20
      quote: MCR-ERC20
      binance_symbol: USDTRUB
      binance_quote: RUB
      enable_buyout: false
  legacy_markets:
    - base: BNB-BEP20
      quote: USDC-BEP20
      binance_symbol: BNBUSDC
    - base: BNB-BEP20
      quote: USDT-BEP20
      binance_symbol: BNBUSDT
    - base: HT-HRC20
      quote: USDC-HRC20
      binance_symbol: HTUSDC
    - base: HT-HRC20
      quote: USDT-HRC20
      binance_symbol: HTUSDT
    - base: MDT-ERC20
      quote: MCR-ERC20
      binance_symbol: MDTRUB
    - base: MDT-ERC20
      quote: USDT-ERC20
      binance_symbol: MDTUSDT

   # "usdcerc20_usdcbep20",
   # "usdchrc20_usdcbep20",
   # "usdchrc20_usdcerc20",
   # "usdterc20_usdcerc20",
   # "usdterc20_usdtbep20",
   # "usdthrc20_usdtbep20",
   # "usdthrc20_usdterc20"

  polling_sleep: 0.1
  maker_sleep: 0.1

  influx:
    collectors: 'upstream'
    orders_updater: 'processor'

  upstreams: 
    binance: 
      client: Valera::BinanceClient
    peatio:
      client: Valera::PeatioClient

  accounts:
    bargainer_bot:
      upstream: peatio
      credentials: bargainer_bot
    deep_stoner_bot:
      upstream: peatio
      credentials: deep_stoner_bot
    binance:
      upstream: binance
      credentials: binance

  drainers:
    binance_websocket:
      class: BinanceWebsocketDrainer
      account: binance

    peatio_websocket:
      class: PeatioWebsocketDrainer
      account: deep_stoner_bot

    peatio_rest:
      class: PeatioRestDrainer
      account: deep_stoner_bot

    peatio_balance_deep_stoner:
      class: AccountDrainer
      account: deep_stoner_bot
      interval: 1

    peatio_balance_bargainer:
      class: AccountDrainer
      account: bargainer_bot
      interval: 1

    binance_account:
      class: AccountDrainer
      account: binance
      interval: 30

    binance_userdata_websocket:
      class: BinanceUserdataWebsocketDrainer
      account: binance

  strategies:
    deep_stoner:
      class: DeepStonerStrategy
      comment: Арбитражник - глубокий наполнятель стакана
      account: deep_stoner_bot
      buyout_account: binance
      source_account: binance

    bargainer:
      class: BargainerStrategy
      comment: Проторговщик, торгует на малые объёмы, иногда так получается что сделки закрываются на самого себя
      account: bargainer_bot
      source_account: binance

development:
  <<: *defaults
  polling_sleep: 1
  maker_sleep: 1
staging:
  <<: *defaults
production:
  <<: *defaults
test:
  <<: *defaults
  markets: ["BTC_USDT"]
  drainers:
    binance_websocket:
      class: BinanceWebsocketDrainer
      account: binance

    peatio_websocket:
      class: PeatioWebsocketDrainer
      account: peatio1

    peatio_rest:
      class: PeatioRestDrainer
      account: peatio1

    peatio_balance_deep_stoner:
      class: AccountDrainer
      account: peatio1

    peatio_balance_bargainer:
      class: AccountDrainer
      account: binance

  upstreams: 
    binance:
      client: Valera::BinanceClient
    peatio:
      client: Valera::PeatioClient

  accounts:
    peatio1:
      upstream: peatio
      credentials: 
        access_key: test
        secret_key: text
    peatio2:
      upstream: peatio
      credentials: 
        access_key: test
        secret_key: text
    binance:
      upstream: binance
      credentials: 
        name: :binance
        api_key: test
        secret_key: test

  strategies:
    deep_stoner:
      class: DeepStonerStrategy
      comment: Арбитражник - глубокий наполнятель стакана
      account: peatio1
      buyout_account: binance

    bargainer:
      class: BargainerStrategy
      comment: Проторговщик, торгует на малые объёмы, иногда так получается что сделки закрываются на самого себя
      account: peatio2
